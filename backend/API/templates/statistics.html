{% extends 'index.html' %}

{% block body %}

<div class="body-container">
    <h3>Statistik</h3>
    <table>
        <tr>
            <th>Antal spelare</th>
            <th>Antal oanvända karaktärer</th>
        </tr>
        <tr>
            <td>{{data}}</td>
            <td>{{characters}}</td>
        </tr>
    </table>
</div>

<div class="image-container">
    <table>
        <tr>
            <th>Användare utan bilder för AI:n</th>
        </tr>
        <tr class="users">
            <!-- This field will be filled from function below -->
        </tr>
    </table>
    <table>
        <tr>
            <th>Lokala nyheter för dagen</th>
        </tr>
        <tr class="news">
            <!-- This field will be filled from function below -->
        </tr>
    </table>  
</div>

<script>
    users = [];
    news  = [];
</script>

{% for user in users %}
<script>
    temp = "{{user}}".split(",");
    temp[0] = temp[0].substring(1);
    temp[1] = temp[1].substring(6, temp[1].length - 6);
    temp[1] = temp[1][0].toUpperCase() + temp[1].substring(1);
    str = temp[0] + " - " + temp[1];
    users.push(str);
</script>
{% endfor %}

{% for info in news %}
<script>
    news.push("{{info}}");
</script>
{% endfor %}
<script>
$.each(users, function (index, element) {
    $(".users").append("<td>" + element +" </td>");
});

$.each(news, function (index, element) {
    $(".news").append("<td>" + element +" </td>");
});
</script>


{% endblock %}
</body>
</html>